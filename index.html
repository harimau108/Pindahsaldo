<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<title>Cyberpunk Rainbow Terminal</title>

<style>
/* ===== RESET ===== */
*,*::before,*::after{
    margin:0; padding:0; box-sizing:border-box;
    text-shadow:none !important;
    list-style:none !important;
}

/* ===== PAGE ===== */
body,html{
    width:100%; height:100%;
    background:black;
    font-family:"Courier New",monospace;
    overflow:hidden;
}

/* ===== CANVAS ===== */
canvas{
    position:fixed;
    top:0; left:0;
    width:100%; height:100%;
    pointer-events:none;
}

/* ===== RAINBOW BORDER ANIMATION ===== */
@keyframes rainbowBorder {
    0%{border-color:#ff0080; box-shadow:0 0 20px #ff0080;}
    25%{border-color:#00eaff; box-shadow:0 0 20px #00eaff;}
    50%{border-color:#00ff6e; box-shadow:0 0 20px #00ff6e;}
    75%{border-color:#ffd500; box-shadow:0 0 20px #ffd500;}
    100%{border-color:#ff0080; box-shadow:0 0 20px #ff0080;}
}

/* ===== TERMINAL CARD ===== */
.terminal{
    width:500px;
    margin:60px auto;
    padding:20px;
    background:rgba(0,0,0,0.55);
    border:3px solid #ff00e0;
    border-radius:12px;
    animation:rainbowBorder 4s linear infinite;
    position:relative;
    z-index:1;
}

/* ===== TERMINAL LOG ===== */
#autoLog{
    height:140px;
    overflow-y:auto;
    white-space:pre-line;
    font-size:13px;
    color:#ffe3ff;
    border-bottom:1px dashed #ff66ff;
    margin-bottom:10px;
}

/* ===== INPUTS ===== */
input{
    width:100%;
    padding:12px;
    margin:10px 0;
    background:black;
    border:2px solid #ff00e0;
    border-radius:6px;
    color:#fff;
    font-size:16px;
    box-shadow:0 0 15px #ff00e0;
}
input:focus{
    outline:none;
    box-shadow:0 0 30px #ff4bff;
}

/* ===== BUTTON ===== */
button{
    width:100%;
    padding:14px;
    font-size:16px;
    font-weight:bold;
    border:none;
    border-radius:6px;
    background:#ff00e0;
    cursor:pointer;
    color:black;
    box-shadow:0 0 20px #ff00e0;
}
button:hover{
    background:#ff5bf6;
}

/* ===== CYBERPUNK RAINBOW PROGRESS ===== */
#progressContainer{
    display:none;
    width:100%;
    height:18px;
    border-radius:5px;
    border:2px solid #ff00f0;
    margin-top:15px;
}

@keyframes rainbowBar {
    0%{background:#ff0080;}
    20%{background:#ff4d00;}
    40%{background:#ffe600;}
    60%{background:#00ff4c;}
    80%{background:#00eaff;}
    100%{background:#ff00f0;}
}

#progressBar{
    height:100%;
    width:1%;
    border-radius:5px;
    animation:rainbowBar 2s linear infinite;
}

/* ===== RGB GLITCH ===== */
.glitch{
    position:relative;
    color:white;
    font-weight:bold;
    animation:glitchAnim 0.4s infinite;
}

@keyframes glitchAnim {
    0%{text-shadow:2px 0 red,-2px 0 cyan;}
    25%{text-shadow:-2px 0 lime,2px 0 blue;}
    50%{text-shadow:3px 0 yellow,-3px 0 red;}
    75%{text-shadow:-2px 0 #ff00f0,2px 0 cyan;}
    100%{text-shadow:2px 0 red,-2px 0 cyan;}
}

/* ===== SHAKE ERROR ===== */
.shake{animation:shake 0.3s;}
@keyframes shake{
    25%{transform:translateX(-4px);}
    50%{transform:translateX(4px);}
    75%{transform:translateX(-4px);}
}
</style>
</head>
<body>

<canvas id="goldCanvas"></canvas>
<canvas id="matrixCanvas"></canvas>

<div class="terminal">

    <div id="autoLog">Initializing system...\n</div>

    <input id="oldID" placeholder="User ID Lama">
    <input id="newID" placeholder="User ID Baru">
    <input id="nominal" placeholder="Nominal Transfer (Rp)" oninput="formatRupiah(this)">

    <button onclick="executeTransfer()">PROSES</button>

    <div id="progressContainer"><div id="progressBar"></div></div>
    <div id="result" style="text-align:center;display:none;margin-top:15px"></div>
</div>

<script>
/* ===== GOLD $ FALL ===== */
const goldCanvas = document.getElementById("goldCanvas");
const gctx = goldCanvas.getContext("2d");

function resizeGold() { goldCanvas.width = innerWidth; goldCanvas.height = innerHeight; }
resizeGold();
window.onresize = () => { resizeGold(); };

const golds = [];
for(let i=0;i<80;i++){
    golds.push({
        x:Math.random()*goldCanvas.width,
        y:Math.random()*goldCanvas.height,
        size:12+Math.random()*12,
        speed:1+Math.random()*3,
        alpha:0.3+Math.random()*0.7,
        glow:Math.random()*0.5
    });
}

function drawGold(){
    gctx.clearRect(0,0,goldCanvas.width,goldCanvas.height);
    golds.forEach(g=>{
        const gradient = gctx.createRadialGradient(g.x,g.y,g.size/4,g.x,g.y,g.size);
        gradient.addColorStop(0,"rgba(255,255,200,"+(g.alpha)+")");
        gradient.addColorStop(1,"rgba(255,215,0,0)");
        gctx.fillStyle = gradient;
        gctx.shadowColor = "gold";
        gctx.shadowBlur = 8;
        gctx.font = `bold ${g.size}px monospace`;
        gctx.fillText("$", g.x, g.y);
        g.y += g.speed;
        if(g.y > goldCanvas.height) g.y = 0;
    });
}
setInterval(drawGold,40);

/* ===== MATRIX BACKGROUND (OPTIONAL) ===== */
const canvas=document.getElementById("matrixCanvas");
const ctx=canvas.getContext("2d");
function resizeMatrix(){canvas.width=innerWidth; canvas.height=innerHeight;}
resizeMatrix();
window.onresize=()=>{resizeGold(); resizeMatrix();}

const chars="01<>/=$#@*&%";
const fs=14;
let cols=Math.floor(canvas.width/fs);
let drops=Array(cols).fill(1);

function drawMatrix(){
    ctx.fillStyle="rgba(0,0,0,0.05)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="#ff00e0";
    ctx.font=fs+"px monospace";

    drops.forEach((y,i)=>{
        const ch=chars[Math.floor(Math.random()*chars.length)];
        ctx.fillText(ch,i*fs,y*fs);
        if(y*fs>canvas.height && Math.random()>0.95) drops[i]=0;
        drops[i]++;
    });
}
setInterval(drawMatrix,35);

/* ===== AUTO TERMINAL LOG ===== */
const logBox=document.getElementById("autoLog");
const logLines=[
    "[SYS] Checking kernel integrity...",
    "[NET] Scanning nodes...",
    "[AUTH] Sync user credentials...",
    "[MEM] Allocating RAM blocks...",
    "[FS] Reading sectors...",
    "[CPU] Crypto engine initialized...",
    "[ENCRYPT] AES-4096 ready...",
    "[SCAN] Monitoring...",
    "[SYS] Running background tasks..."
];

setInterval(()=>{
    const line=logLines[Math.floor(Math.random()*logLines.length)];
    logBox.innerHTML+=line+"\n";
    logBox.scrollTop=logBox.scrollHeight;
},800);

/* ===== FORMAT RUPIAH ===== */
function formatRupiah(e){
    e.value=new Intl.NumberFormat("id-ID").format(
        e.value.replace(/\D/g,"")
    );
}

/* ===== EXECUTION ===== */
function executeTransfer(){
    const oldID=oldIDEl=document.getElementById("oldID").value.trim();
    const newID=document.getElementById("newID").value.trim();
    let nominal=document.getElementById("nominal").value.replace(/\./g,"");
    nominal=parseInt(nominal||"0");

    if(!oldID||!newID||!nominal){
        alert("Semua input wajib diisi.");
        return;
    }
    if(nominal>10000000){
        alert("Maximal transfer: 10.000.000");
        return;
    }

    const barC=document.getElementById("progressContainer");
    const bar=document.getElementById("progressBar");
    const result=document.getElementById("result");

    barC.style.display="block";
    bar.style.width="1%";
    result.style.display="none";

    let p=1;
    const load=setInterval(()=>{
        p++;
        bar.style.width=p+"%";

        if(p>=99){
            clearInterval(load);
            bar.style.width="100%";
            setTimeout(()=>{
                result.style.display="block";
                result.innerHTML="<span class='glitch'>❌ TRANSFER GAGAL — SALDO AKUN BARU KURANG DARI Rp 250.000</span>";
                result.classList.add("shake");
            },300);
        }

    },35);
}
</script>
</body>
</html>
